<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<l7:Bundle xmlns:l7="http://ns.l7tech.com/2010/04/gateway-management">
    <l7:References>
        <l7:Item>
            <l7:Name>SSL</l7:Name>
            <l7:Id>00000000000000000000000000000002:SSL</l7:Id>
            <l7:Type>SSG_KEY_ENTRY</l7:Type>
            <l7:TimeStamp>2018-02-04T10:25:29.400+02:00</l7:TimeStamp>
            <l7:Resource>
                <l7:PrivateKey alias="SSL" id="00000000000000000000000000000002:SSL" keystoreId="00000000000000000000000000000002">
                    <l7:CertificateChain>
                        <l7:CertificateData>
                            <l7:IssuerName>CN=moneta.gw</l7:IssuerName>
                            <l7:SerialNumber>13047180624730449324</l7:SerialNumber>
                            <l7:SubjectName>CN=moneta.gw</l7:SubjectName>
                            <l7:Encoded>MIIC7TCCAdWgAwIBAgIJALUQ5aa5auWsMA0GCSqGSIb3DQEBDAUAMBQxEjAQBgNVBAMTCW1vbmV0YS5ndzAeFw0xNzExMjAxMjU4MDFaFw0yNzExMTgxMjU4MDFaMBQxEjAQBgNVBAMTCW1vbmV0YS5ndzCCASIwDQYJKoZIhvcNAQEBBQADggEPADCCAQoCggEBAIcdADaib5P5S+4PCkQBva3TKy0vd2g/a871QcPE9765wW+WsdNNmjjFMdCs8IFqkedvutCjSE2Ax//HpDGIdjA2p+goQKZ+jXgqZKZG/f0ivUfhYkWZYLc3PGrMq+HsG/WuL6+czoBF0EaJ4P8XwocWXbSTJIJ1l4THBbhqiuh0duPYrblD9jLxIzH9VWJE2KGLJmVFut1SRJC4DEaU0Eq1cBgx6GYDigoAfTEg1p2HwEItUa6TC7htc3uxRr1/EjbpzWbAmCkBcDFACH3jFc3ZZ4iJKkZR7KEngmBeO5fTi5voCC/NO/rXdvAdsRy+3jB4euTRktqBxs07Er2mku8CAwEAAaNCMEAwHQYDVR0OBBYEFHjyuTQP4IktqDLtQyUebvfSAIifMB8GA1UdIwQYMBaAFHjyuTQP4IktqDLtQyUebvfSAIifMA0GCSqGSIb3DQEBDAUAA4IBAQBPJWT9uPr9RI8iJXp//8eeqh9dLPcxjp7j5LO3yl6C4e9bUP0GUyvvT0KY4y4z7HaNrdZySuWkNuMNvsCFkXh3rgY4c0+nzmgfZq5x18Kr5UaPm/zN7SQeyL5ZSfUcxcjKJjFCND6zZCccVljXA1LJHhlKThZXz50UmEhL3IClpXOPtZOReRhnSohMEhxXJinL44mzyP/oFNUf5sbZePGHqdxD9k4/68qjg8f7dIvJZ7xZ+krr0xCFPev22zxTj5iJvIo+7IOYIKxANPqS/ujJ+iXrPWbEs8suRt69zM8xoD3sbYsvq0MwgFyqucqke8m77FXSf1DLRi6xInNYpoEE</l7:Encoded>
                        </l7:CertificateData>
                    </l7:CertificateChain>
                    <l7:Properties>
                        <l7:Property key="keyAlgorithm">
                            <l7:StringValue>RSA</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="keyData">
                            <l7:StringValue algorithm="RSA" bundleKey="$L7C2$1bead,8bjQ8OHhpSxDrIDeoxcqYNjMnhdvC9RhS+1oY8qBZ9k=$ixf/t+JYhGSGjUIP5LZZ6s3xnHLtVxutrTRzFoW+mjr3OCEvzxJF4+hKc5H+ZYjDMIqNRUOsk+k93KW31/4z2gS3N+x44MfL41t0rtVzri2GlPRtZ79P3fLGEd6Ns0Z6">$L7C2$1,I8uN8oSi6ch6DbQO+o2w5EBu3ZsR0y2R4yPKWvOZJ6k=$2l4Jeg8cvnL+o6BTymipOU84/c+EeN/Wwdjm439hz/RjmzMLS2VteQhlL2O8OvSNIOh5IEvIEmnoZ6fcBAdILHq/guEAeoZD6PJNtEZe58xjJ/6OQrMm49cJKxN8gVKb0IzPH996QrE3+4ilzFY3XjFqlSLtEpwj2vsK8hpJugQT3AoY2RB06Syj79tXdauSZWzuL4FwBjB715Z31DV6SBdYCTdFH3BqhjkWf4BccH7/P3KsRf+EhIlAPv7K9X/RTg6zUSvu7l3sLXowi65LhejrqQGdv/KI057HrQpHgzzq4PQ28LadLzqRKHT4uJxpSs+5ncS9YlycGwZDZAPbErm8ABsFhQd0n6RdM5qPqr1+ihNWp78oAqESf79tmOGUrq5+rY2M8isrdlGsuYwnyfint4NeTA112M0+Un1AqMEXBS4jof9ey0XefCNzvJzESCI1P4zQZMk1LX6mY2U5yeliSW1qouKrW5ZSIJjRi58T7kaqCGf9Ha5jLaV9a479ZO3wgO2Y75j1M9WFOQ4n2IRyWIq6C01mpKUAvWiL19abmfysMxbQsKcbi/soH/sFp/XGDfoprB9fRkB5w3mlZ9KKuHJ2U1E+ka/wc7v9Xoqvwvg9msAo8VwIrmhbFiAVRUJzr6wS48a4+jSNCGqRDT9I1MzLuU4AHprANy8khw+Uujgsiung/3Mm26WDQgS5OIuh1MWtVb6PuACymEwQ+t8fwrvMCAkM/ZEUsVF/DMoc/r7l/1/vYNsNj1HzTjj2COwePeVvlo7WV42UpcLzrHpAbM+PmLAPN2oRtCT5N3z2ls2qbadz9F50BnZlq0UIeFRGym3LzQL52K/Az0bY5bNAfzX6/Jha5lDM1i+m/9BOtcMb6f0RCzyPvXORR4428eZj2qg4f4UgwOj7cQfchdlR4GVn597GQwXBsP9F7z1LdjWrBSGUqUA0UD/mgAJvt/c/Az3A+X8Gjo8SGISiD7zjt7F5wwSPYOU4umggPjFnHtTdbKVE9al88bWz0gSfc9FzeJ28SRKpvdM9SC43tmC/jdt47VHgsmyTUxZUqyDVYoV5wJqVfY6PjGXjUEpaBfb6DA4oHFYOVyVut+jefws6KvLSy7tXbrJPy9HyGFenNBi1oCVJEWtQER6L2Seb5gVX1Tej8vnPeDASWi410TakGVCudhzrVK8fzI5EMmgB2dFBDSGfCQb4Zrj5aypOGoqgh1razM9afNHsPKsCgiqbNPkd+62mmiqeb37L4bKDZFz99T093QQmWRkYZFAc0nchVddMJyc6z4MPyH3B4125xsSR9zsNSf9no+tROUQ8K2R+FJB+gAQmfrAxccMxmlJ5pcuH/JGoYeT3D/gC9VTARkSQpLmeKovHw/74VU7kQGe2N4JVm3aat9W84BOnlsKp/Gh3frDHipfBAX3JJBX4AGCsZAzTK39tcREiaIEbkLPnyY0tw1Y6mrjD1ERD35fZrpibYHpwVKABgEwfg1raXdwTkywMZEv0ECvUhJDrGo2psGjLwR9lJxRTxYHu3QwDaBiIj0T/2kTVi9YO4UMESeQ6DHbTeyDPy6Fk1tiR3yu4H8vwtCM2wJRDxsX2j+1T1ASbbZXlJBqnp9BomyaFvYgzyRMRvr3tS5TQQjq3CLvKyF7WD+1a07/wwNUbCWbE9ClBJtU9xrDEEhC73OmMoiuohnoTVoUsnO9/EzU=</l7:StringValue>
                        </l7:Property>
                        <l7:Property key="specialPurposes">
                            <l7:StringValue>Default SSL Key</l7:StringValue>
                        </l7:Property>
                    </l7:Properties>
                </l7:PrivateKey>
            </l7:Resource>
        </l7:Item>
        <l7:Item>
            <l7:Name>JWT Example</l7:Name>
            <l7:Id>1c3c09857da0dd4838a87ec93239c6df</l7:Id>
            <l7:Type>SERVICE</l7:Type>
            <l7:TimeStamp>2018-02-04T10:25:29.402+02:00</l7:TimeStamp>
            <l7:Resource>
                <l7:Service id="1c3c09857da0dd4838a87ec93239c6df" version="7">
                    <l7:ServiceDetail folderId="1c3c09857da0dd4838a87ec93239c4e8" id="1c3c09857da0dd4838a87ec93239c6df" version="7">
                        <l7:Name>JWT Example</l7:Name>
                        <l7:Enabled>true</l7:Enabled>
                        <l7:ServiceMappings>
                            <l7:HttpMapping>
                                <l7:UrlPattern>/jwtexample</l7:UrlPattern>
                                <l7:Verbs>
                                    <l7:Verb>GET</l7:Verb>
                                    <l7:Verb>POST</l7:Verb>
                                    <l7:Verb>PUT</l7:Verb>
                                    <l7:Verb>DELETE</l7:Verb>
                                </l7:Verbs>
                            </l7:HttpMapping>
                        </l7:ServiceMappings>
                        <l7:Properties>
                            <l7:Property key="internal">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="policyRevision">
                                <l7:LongValue>16</l7:LongValue>
                            </l7:Property>
                            <l7:Property key="soap">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="tracingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                            <l7:Property key="wssProcessingEnabled">
                                <l7:BooleanValue>false</l7:BooleanValue>
                            </l7:Property>
                        </l7:Properties>
                    </l7:ServiceDetail>
                    <l7:Resources>
                        <l7:ResourceSet tag="policy">
                            <l7:Resource type="policy" version="13">&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;wsp:Policy xmlns:L7p="http://www.layer7tech.com/ws/policy" xmlns:wsp="http://schemas.xmlsoap.org/ws/2002/12/policy"&gt;
    &lt;wsp:All wsp:Usage="Required"&gt;
        &lt;L7p:AuditAssertion&gt;
            &lt;L7p:SaveRequest booleanValue="true"/&gt;
            &lt;L7p:SaveResponse booleanValue="true"/&gt;
        &lt;/L7p:AuditAssertion&gt;
        &lt;L7p:AuditDetailAssertion&gt;
            &lt;L7p:CustomLoggerSuffix stringValue="ozanlog"/&gt;
            &lt;L7p:Detail stringValue="HEBELEMEKUKU2KELE ${gateway.aaa}"/&gt;
            &lt;L7p:Level stringValue="WARNING"/&gt;
            &lt;L7p:LoggingOnly booleanValue="true"/&gt;
        &lt;/L7p:AuditDetailAssertion&gt;
        &lt;L7p:FaultLevel&gt;
            &lt;L7p:LevelInfo soapFaultLevel="included"&gt;
                &lt;L7p:Level intValue="4"/&gt;
            &lt;/L7p:LevelInfo&gt;
        &lt;/L7p:FaultLevel&gt;
        &lt;L7p:EncodeJsonWebToken&gt;
            &lt;L7p:Enabled booleanValue="false"/&gt;
            &lt;L7p:SignPayload booleanValue="true"/&gt;
            &lt;L7p:SignatureAlgorithm stringValue="HS256"/&gt;
            &lt;L7p:SignatureSecretKey stringValue="7layer"/&gt;
            &lt;L7p:SourceVariable stringValue="ABIDIK"/&gt;
            &lt;L7p:TargetVariable stringValue="test"/&gt;
        &lt;/L7p:EncodeJsonWebToken&gt;
        &lt;L7p:DecodeJsonWebToken&gt;
            &lt;L7p:Enabled booleanValue="false"/&gt;
            &lt;L7p:SignatureSecret stringValue="7layer"/&gt;
            &lt;L7p:SourcePayload stringValue="${test.compat}"/&gt;
            &lt;L7p:TargetVariablePrefix stringValue="test"/&gt;
            &lt;L7p:ValidationType stringValue="Using Secret"/&gt;
        &lt;/L7p:DecodeJsonWebToken&gt;
    &lt;/wsp:All&gt;
&lt;/wsp:Policy&gt;
</l7:Resource>
                        </l7:ResourceSet>
                    </l7:Resources>
                </l7:Service>
            </l7:Resource>
        </l7:Item>
    </l7:References>
    <l7:Mappings>
        <l7:Mapping action="Ignore" type="CLUSTER_PROPERTY"/>
        <l7:Mapping action="NewOrExisting" srcId="00000000000000000000000000000002:SSL" srcUri="https://moneta.gw:8443/restman/1.0/privateKeys/00000000000000000000000000000002:SSL" type="SSG_KEY_ENTRY"/>
        <l7:Mapping action="NewOrExisting" srcId="1c3c09857da0dd4838a87ec93239c4e8" srcUri="https://moneta.gw:8443/restman/1.0/folders/1c3c09857da0dd4838a87ec93239c4e8" type="FOLDER">
            <l7:Properties>
                <l7:Property key="FailOnNew">
                    <l7:BooleanValue>true</l7:BooleanValue>
                </l7:Property>
            </l7:Properties>
        </l7:Mapping>
        <l7:Mapping action="NewOrUpdate" srcId="1c3c09857da0dd4838a87ec93239c6df" srcUri="https://moneta.gw:8443/restman/1.0/services/1c3c09857da0dd4838a87ec93239c6df" type="SERVICE"/>
    </l7:Mappings>
</l7:Bundle>
